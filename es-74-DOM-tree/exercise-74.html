<!-- # Dom Tree - Exercise 6
Implementare il codice necessario per generare dinamicamente il form `person-form`.
Al caricamento della pagina occorre creare ed eseguire la funzione `initForm`
che si occuperà di generare dinamicamente e aggiungere al form i campi: `firstName`, `lastName` e `age`.
Al click del pulsante "Submit" del form richiamare il metodo `submitPersonForm`,
il quale si dovrà occupare di:

* Prevenire l'evento di default che avviene al submit del form
* Creare un oggetto `person` contenente i valori del form popolato dall'utente
* Eseguire il `console.log` dell'oggetto `person` creato -->

<html>
  <body>
    <div id="container">
      <h2>Person's Form</h2>
      <form id="person-form">
        <button type="submit">Submit</button>
      </form>
    </div>
  </body>
</html>

<script>


window.onload = function initForm() {
  let fields = ["age", "lastName", "firstName"]; 
  
  fields.forEach((item) => {
    let inputDiv = document.createElement("div");
    let labelField = document.createElement("label");
    let inputField = document.createElement("input");
    inputField.setAttribute("id", `${item}-input-container`);
   
    labelField.innerHTML = item;
    
    if(item === "age") {
      inputField.type = "number";
    } else {
      inputField.type = "text";
    }

    const form = document.querySelector("#person-form");
    form.prepend(inputDiv);
    inputDiv.append(labelField, inputField);

    form.style.cssText = `
      display: flex;
      gap: 15px;`
  })
}


function submitPersonForm(e) {
  e.preventDefault();
  const person = {
    firstName: document.getElementById("firstName-input-container").value,
    lastName: document.getElementById("lastName-input-container").value,
    age: document.getElementById("age-input-container").value
  }
  console.log(person);
}

const myForm = document.getElementById("person-form");
myForm.addEventListener("submit", submitPersonForm);


</script>
